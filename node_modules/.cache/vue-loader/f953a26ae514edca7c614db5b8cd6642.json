{"remainingRequest":"/usr/src/app/meneki-web2/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/src/app/meneki-web2/src/views/EditHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/src/app/meneki-web2/src/views/EditHome.vue","mtime":1600170684448},{"path":"/usr/src/app/meneki-web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/src/app/meneki-web2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/src/app/meneki-web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/src/app/meneki-web2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOw0KICBpbXBvcnQge1Z1ZUVkaXRvcn0gZnJvbSAidnVlMi1lZGl0b3IiOw0KaW1wb3J0IHttZGJCdG4sIA0KICAgICAgICBtZGJMaXN0R3JvdXAsDQogICAgICAgIG1kYkxpc3RHcm91cEl0ZW0sIA0KICAgICAgICBtZGJNb2RhbCwgDQogICAgICAgIG1kYk1vZGFsSGVhZGVyLCANCiAgICAgICAgbWRiTW9kYWxUaXRsZSwgDQogICAgICAgIG1kYk1vZGFsQm9keSwgDQogICAgICAgIG1kYk1vZGFsRm9vdGVyLA0KICAgICAgICBtZGJOYXZiYXIsDQogICAgICAgIG1kYk5hdmJhck5hdiwNCiAgICAgICAgbWRiTmF2SXRlbSwgDQogICAgICAgIG1kYkNvbnRhaW5lciwNCiAgICAgICAgbWRiUm93LA0KICAgICAgICBtZGJDb2wsDQogICAgICAgIG1kYkNhcmQsDQogICAgICAgIG1kYkNhcmRCb2R5LA0KICAgICAgICBtZGJDYXJkVGl0bGUsDQogICAgICAgIG1kYkNhcmRUZXh0LA0KICAgICAgICBtZGJJY29uDQogICAgICB9IGZyb20gJ21kYnZ1ZSc7DQoNCiAgaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOw0KICBpbXBvcnQgRGF0ZXBpY2tlciBmcm9tICd2dWVqcy1kYXRlcGlja2VyJzsNCiAgaW1wb3J0IHtqYX0gZnJvbSAndnVlanMtZGF0ZXBpY2tlci9kaXN0L2xvY2FsZScNCg0KICBleHBvcnQgZGVmYXVsdHsNCiAgICBuYW1lOiAnZWRpdEhvbWUnLA0KICAgIGNvbXBvbmVudHM6IHsgVnVlRWRpdG9yLA0KICAgICAgbWRiQnRuLCANCiAgICAgIG1kYkxpc3RHcm91cEl0ZW0sDQogICAgICBtZGJMaXN0R3JvdXAsDQogICAgICBtZGJNb2RhbCwgDQogICAgICBtZGJNb2RhbEhlYWRlciwgDQogICAgICBtZGJNb2RhbFRpdGxlLCANCiAgICAgIG1kYk1vZGFsQm9keSwgDQogICAgICBtZGJNb2RhbEZvb3RlciwgDQogICAgICBtZGJOYXZiYXIsDQogICAgICBtZGJOYXZiYXJOYXYsDQogICAgICBtZGJOYXZJdGVtLA0KICAgICAgbWRiQ29udGFpbmVyLA0KICAgICAgbWRiUm93LA0KICAgICAgbWRiQ29sLA0KICAgICAgRGF0ZXBpY2tlciwNCiAgICAgIG1kYkNhcmQsDQogICAgICBtZGJDYXJkQm9keSwNCiAgICAgIG1kYkNhcmRUaXRsZSwNCiAgICAgIG1kYkNhcmRUZXh0LA0KICAgICAgbWRiSWNvbg0KICAgIH0sDQogICAgZGF0YSgpew0KICAgICAgcmV0dXJuew0KICAgICAgICBqYTpqYSwNCiAgICAgICAgaG9tZUNhdGVnb3J5OidzdHVkeScsIC8vIOODi+ODpeODvOOCueOBruOCq+ODhuOCtOODquOCkumBuOOBtg0KICAgICAgICBob21lQ29udGVudDonJywgLy8g44OL44Ol44O844K544Gu5YaF5a6544KS6YG444G2DQogICAgICAgIGhvbWVEYXRlOicnLA0KICAgICAgICBob21lVGl0bGU6JycsIC8v44OL44Ol44O844K544Gu44K/44Kk44OI44OrDQogICAgICAgIGhvbWVFZGl0b3I6JycsIC8vIOacrOaWh+OBruOCqOODh+OCo+OCv+OBjOOBk+OBk+OBq+WPjeaYoA0KICAgICAgICB1cGxvYWRlZEltYWdlOicnLCAvLyDjgqLjg4Pjg5fjg63jg7zjg4njgZfjgZ/nlLvlg4/jgafooajnpLrjgZnjgovnlLvlg4/jga7jg4fjg7zjgr8NCiAgICAgICAgaW5wdXRJbWc6IiIsIC8vIOOCouODg+ODl+ODreODvOODieOBl+OBn+eUu+WDj+OBruaDheWgsQ0KICAgICAgICBmaWxlUGF0aDoiIiwgLy8g44Ki44OD44OX44Ot44O844OJ44GX44Gf55S75YOP44Gu5oOF5aCxDQogICAgICAgIHJlbW92ZU1vZGFsOiIiLCAvLyDmm7TmlrDlsaXmrbTjga7liYrpmaTjg5zjgr/jg7PjgpLmirzjgZfjgZ/jgajjgY3jgIHjgZPjgZPjgavliYrpmaTjgZnjgovjg4fjg7zjgr/jga5pZOOBjOiomOmMsg0KICAgICAgICByZW1vdmVDYXJvdXNlbE1vZGFsOiIiLCAvLyDnlLvlg4/jga7liYrpmaTjg5zjgr/jg7PjgpLmirzjgZfjgZ/jgajjgY3jgIHjgZPjgZPjgavliYrpmaTjgZnjgovjg4fjg7zjgr/jga5pZOOBjOiomOmMsg0KICAgICAgICBuZXdzTW9kYWw6ZmFsc2UsIC8vIOeUu+WDj+WJiumZpOODouODvOODgOODq+OBruOCquODs+OCquODlQ0KICAgICAgICBjYXJvdXNlbE1vZGFsOmZhbHNlLCAvLyDjg4vjg6Xjg7zjgrnliYrpmaTjg6Ljg7zjg4Djg6vjga7jgqrjg7Pjgqrjg5UNCiAgICAgICAgZm9ybU1vZGFsOmZhbHNlLCAvLyDjg6Hjg4Pjgrvjg7zjgrjjg6Ljg7zjg4Djg6vjga7jgqrjg7Pjgqrjg5UNCiAgICAgICAgZm9ybU1vZGFsTWVzc2FnZToiIiwgLy8g44Oh44OD44K744O844K444Oi44O844OA44Or44Gu5YaF5a65DQogICAgICAgIG5ld3NCdG46IumAgeS/oSIsIC8vIOODoeODg+OCu+ODvOOCuOODouODvOODgOODq+OBruWGheWuuQ0KICAgICAgICBuZXdzQnRuUHVzaDpmYWxzZSwgLy8g5pu05paw5bGl5q2044Oc44K/44Oz44KS5oq844GX44Gf44GL5ZCm44GLDQogICAgICAgIGV5ZUNhdGNoQnRuOiLpgIHkv6EiLA0KICAgICAgICBleWVDYXRjaEJ0blB1c2g6ZmFsc2UsIC8vIOeUu+WDj+abtOaWsOODnOOCv+ODs+OCkuaKvOOBl+OBn+OBi+WQpuOBiw0KICAgICAgICBhY3RpdmVUYWI6ImV5ZUNhdGNoIiAvLyDjganjga7jgr/jg5bjgYzmnInlirnjgYvvvJ8NCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIGFwcC52dWUg44GL44KJ44OH44O844K/44KS5Y+X44GR5Y+W44KLDQogICAgcHJvcHM6ew0KICAgICAgbmV3c0RhdGE6T2JqZWN0LA0KICAgICAgaG9tZURhdGE6U3RyaW5nLA0KICAgICAgZXllQ2F0Y2hEYXRhOk9iamVjdCwNCiAgICB9LA0KICAgIC8vIGZpcmViYXNlIOOBi+OCieWPl+OBkeWPluOBo+OBn+ODh+ODvOOCv+OBr2NyZWF0ZWRfYXTjga7poIbnlarjgYzlj6TjgYTjgoLjga7jgYzpoK3jgavjgarjgovjga7jgafpgIbjgavjgZnjgosNCiAgICBjb21wdXRlZDp7DQogICAgICByZXZlcnNlSXRlbXMoKSB7DQogICAgICAgIGNvbnN0IGRhdGFzID0gdGhpcy5uZXdzRGF0YTsNCiAgICAgICAgY29uc3Qgc29ydGVkID0ge307DQogICAgICAgIHZhciBhcnJheSA9IFtdOw0KICAgICAgICBmb3IgKGxldCBrZXkgaW4gZGF0YXMpIHsNCiAgICAgICAgLy/mjIflrprjgZXjgozjgZ/lkI3liY3jga7jg5fjg63jg5Hjg4bjgqPjgYzjgqrjg5bjgrjjgqfjgq/jg4jjgavjgYLjgovjgYvjganjgYbjgYvjg4Hjgqfjg4Pjgq8NCiAgICAgICAgICBpZiAoZGF0YXMuaGFzT3duUHJvcGVydHkoa2V5KSkgew0KICAgICAgICAgICAgLy9pZuadoeS7tuOBjHRydWXjgarjgonjgbDvvIzphY3liJfjga7mnIDlvozjgavjgq3jg7zjgpLov73liqDjgZnjgosNCiAgICAgICAgICAgIGFycmF5LnB1c2goa2V5KTsNCiAgICAgICAgfX0NCiAgICAgICAgYXJyYXkucmV2ZXJzZSgpOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAvKuaIu+OCiuWApOeUqOOBruOCquODluOCuOOCp+OCr+ODiOOBqw0KICAgICAgICAgICAg5paw44Kq44OW44K444Kn44Kv44OIW+mFjeWIl+WGheOBruOCreODvF0g77ydIOW8leaVsOOBruOCquODluOCuOOCp+OCr+ODiFvphY3liJflhoXjga7jgq3jg7xd44KS5YWl44KM44KL77yODQogICAgICAgICAgICDphY3liJfjga/jgr3jg7zjg4jmuIjjgb/jgarjga7jgafvvIzjgr3jg7zjg4jjgZXjgozjgZ/jgqrjg5bjgrjjgqfjgq/jg4jjgYzlh7rmnaXkuIrjgYzjgosqLw0KICAgICAgICAgICAgc29ydGVkW2FycmF5W2ldXSA9IGRhdGFzW2FycmF5W2ldXTsNCiAgICAgICAgfQ0KICAgICAgICAvL+aIu+OCiuWApOOBq+OCveODvOODiOa4iOOBv+OBruOCquODluOCuOOCp+OCr+ODiOOCkuaMh+Wumg0KICAgICAgICByZXR1cm4gc29ydGVkOw0KDQogICAgICB9DQogICAgfSwNCiAgICAvLyDjg5rjg7zjgrjjgpLplovjgYTjgZ/jgajjgY3jgavjgIHmnKzmlofjga7jg4fjg7zjgr/jgpLjgqjjg4fjgqPjgr/jgavlj43mmKANCiAgICBjcmVhdGVkKCl7DQogICAgICB0aGlzLmhvbWVFZGl0b3IgPSB0aGlzLmhvbWVEYXRhOw0KICAgIH0sDQogICAgLy8g5aSJ5pu044GX44Gf44Go44GN44Gr44CB5pys5paH44Gu44OH44O844K/44KS44Ko44OH44Kj44K/44Gr5Y+N5pigDQogICAgd2F0Y2g6ew0KICAgICAgaG9tZURhdGE6ZnVuY3Rpb24gKCkgew0KICAgICAgICBjb25zb2xlLmxvZygnc29tZU9iaiBjaGFuZ2VkJykNCiAgICAgICAgdGhpcy5ob21lRWRpdG9yID0gdGhpcy5ob21lRGF0YTsNCiAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgLy8g5pu05paw5bGl5q205L2c5oiQ6Zai5pWwDQogICAgICBjcmVhdGVOZXdzKCl7DQogICAgICAgIGNvbnN0IGhvbWVDYXRlZ29yeSA9IHRoaXMuaG9tZUNhdGVnb3J5Ow0KICAgICAgICBjb25zdCBob21lQ29udGVudCA9IHRoaXMuaG9tZUNvbnRlbnQ7DQogICAgICAgIGNvbnN0IGhvbWVEYXRlID0gdGhpcy5ob21lRGF0ZTsNCiAgICAgICAgY29uc3QgaG9tZVRpdGxlID10aGlzLmhvbWVUaXRsZTsNCiAgICAgICAgY29uc3QgY3JlYXRlZEF0PWZpcmViYXNlLmRhdGFiYXNlLlNlcnZlclZhbHVlLlRJTUVTVEFNUA0KDQogICAgICAgIGNvbnNvbGUubG9nKGhvbWVEYXRlKQ0KDQogICAgICAgIC8vIOabtOaWsOWxpeattOOBruWGheWuueOBjDDku6XkuIoxNuWtl+acqua6gOOBoOOBo+OBn+WgtOWQiA0KICAgICAgICBpZihob21lQ29udGVudC5sZW5ndGg8MTAwICYmIGhvbWVDb250ZW50Lmxlbmd0aD4xICYmIGhvbWVEYXRlICYmIGhvbWVUaXRsZS5sZW5ndGg8MTUgJiYgaG9tZVRpdGxlLmxlbmd0aD4wKXsNCg0KICAgICAgICAgIC8vIOODnOOCv+ODs+OBruimi+OBn+ebruOCkuWkieabtA0KICAgICAgICAgIHRoaXMubmV3c0J0blB1c2g9dHJ1ZQ0KICAgICAgICAgIHRoaXMubmV3c0J0biA9ICLpgIHkv6HkuK3igKYiDQoNCiAgICAgICAgICAvLyDlhoXlrrnjgpJmaXJlYmFzZeOBq+abtOaWsA0KICAgICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCduZXdzJykucHVzaCh7DQogICAgICAgICAgICBjb250ZW50OmhvbWVDb250ZW50LA0KICAgICAgICAgICAgY2F0ZWdvcnk6aG9tZUNhdGVnb3J5LA0KICAgICAgICAgICAgaG9tZURhdGU6aG9tZURhdGUsDQogICAgICAgICAgICBob21lVGl0bGU6aG9tZVRpdGxlLA0KICAgICAgICAgICAgY3JlYXRlZF9hdDpjcmVhdGVkQXQsDQogICAgICAgICAgfSkudGhlbigoKT0+ew0KDQogICAgICAgICAgICAvLyDlh7rmnaXjgZ/jgonjg5zjgr/jg7PjgpLlhYPjgavmiLvjgZfjgabjg5Xjgqnjg7zjg6DjgpLnqbrjgavjgZfjgIHlrozkuobjgpLnn6XjgonjgZvjgosNCiAgICAgICAgICAgIHRoaXMubmV3c0J0biA9ICLpgIHkv6EiDQogICAgICAgICAgICB0aGlzLm5ld3NCdG5QdXNoPWZhbHNlOw0KICAgICAgICAgICAgdGhpcy5ob21lQ29udGVudCA9ICIiDQogICAgICAgICAgICB0aGlzLmhvbWVDYXRlZ29yeSA9ICJzdHVkeSINCiAgICAgICAgICAgIHRoaXMuZm9ybU1vZGFsTWVzc2FnZT0i5pu05paw5bGl5q2044KS6YCB5L+h44GX44G+44GX44Gf44CCIg0KICAgICAgICAgICAgdGhpcy5mb3JtTW9kYWw9dHJ1ZTsNCg0KICAgICAgICAgIH0pDQogICAgICAgIC8vIOOBneOCjOS7peWkluOBoOOBo+OBn+WgtOWQiA0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAvLyDorablkYrjg6Ljg7zjg4Djg6vjgpLlh7rjgZkNCiAgICAgICAgICB0aGlzLmZvcm1Nb2RhbE1lc3NhZ2U9IuabtOaWsOWxpeattOOBruWGheWuueOBrzHvvZ4xMDDmloflrZfjgafjgYrpoZjjgYTjgZfjgb7jgZnjgIJcbuOCv+OCpOODiOODq+OCkjHvvZ4xNeaWh+Wtl+OBp+OBiumhmOOBhOOBl+OBvuOBmeOAglxu5pel5LuY44KS5YWl5Yqb44GX44Gm44GP44Gg44GV44GE44CCIg0KICAgICAgICAgIHRoaXMuZm9ybU1vZGFsPXRydWU7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICB9LA0KICAgICAgcGlja2VyQ2xvc2VkKCkgew0KICAgICAgICBpZih0aGlzLmhvbWVEYXRlKXsNCiAgICAgICAgICBjb25zb2xlLmxvZygnYWEnKQ0KICAgICAgICAgIHRoaXMuaG9tZURhdGUgPSBtb21lbnQodGhpcy5ob21lRGF0ZSkuZm9ybWF0KCdZWVlZL01NL0REJyk7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBjdXN0b21Gb3JtYXR0ZXIoZGF0ZSkgew0KICAgICAgICByZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdCgnWVlZWS9NTS9ERCcpOw0KICAgICAgfSwNCiAgICAgIC8vIOacrOaWh+OCkuOCouODg+ODl+ODreODvOODieOBmeOCi+mWouaVsA0KICAgICAgY3JlYXRlSG9tZSgpew0KICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignaG9tZScpLnNldCh0aGlzLmhvbWVFZGl0b3IpDQogICAgICB9LA0KICAgICAgcmVtb3ZlVXBsb2FkZWRJbWcoKXsNCiAgICAgICAgdGhpcy51cGxvYWRlZEltYWdlPSIiOw0KICAgICAgICB0aGlzLmlucHV0SW1nPSIiOw0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaG9tZS1pbnB1dGZpbGUiKS52YWx1ZSA9ICcnOw0KDQogICAgICB9LA0KICAgICAgLy8g55S75YOP44KS44Ki44OD44OX44Ot44O844OJ44GZ44KL6Zai5pWwDQogICAgICB1cGRhdGVFeWVDYXRjaERhdGEoKXsNCiAgICAgICAgY29uc3QgZmlsZXMgPSB0aGlzLmlucHV0SW1nOw0KICAgICAgICBjb25zdCBmaWxlID0gZmlsZXNbMF0NCg0KDQogICAgICAgIC8vIOa3u+S7mOOBleOCjOOBpuOBhOOBquOBhOWgtOWQiA0KICAgICAgICBpZighZmlsZSl7DQogICAgICAgICAgdGhpcy5mb3JtTW9kYWxNZXNzYWdlPSLnlLvlg4/jgpLmt7vku5jjgZfjgabjgY/jgaDjgZXjgYTjgIIiDQogICAgICAgICAgdGhpcy5mb3JtTW9kYWw9dHJ1ZTsNCiAgICAgICAgLy8g55S75YOP5Lul5aSW44GM5re75LuY44GV44KM44Gm44GE44KL5aC05ZCIDQogICAgICAgIH1lbHNlIGlmKGZpbGUudHlwZSAhPSAnaW1hZ2UvanBlZycgJiYgZmlsZS50eXBlICE9ICdpbWFnZS9naWYnICYmIGZpbGUudHlwZSAhPSAnaW1hZ2UvcG5nJyAmJiBmaWxlLnR5cGUgIT0gJ2FwcGxpY2F0aW9uL3BkZicpew0KICAgICAgICAgIHRoaXMuZm9ybU1vZGFsTWVzc2FnZT0i55S75YOP44OV44Kh44Kk44Or5Lul5aSW44KS5re75LuY44GX44Gm44GE44G+44GZ44CCXG5qcGfjgIEuZ2lm44CBLnBuZ+OAgS5wZGbjgpLmt7vku5jjgZfjgabjgY/jgaDjgZXjgYTjgIIiDQogICAgICAgICAgdGhpcy5mb3JtTW9kYWw9dHJ1ZTsNCiAgICAgICAgLy8g5aSn44GN44GZ44GO44KL55S75YOP44GM5re75LuY44GV44KM44Gm44GE44KL5aC05ZCIDQogICAgICAgIH1lbHNlIGlmKGZpbGUuc2l6ZSA+IDMwMDAwMDApew0KICAgICAgICAgIHRoaXMuZm9ybU1vZGFsTWVzc2FnZT0i55S75YOP44OV44Kh44Kk44Or44OV44Kh44Kk44Or44GM5aSn44GN44GZ44GO44G+44GZ44CCXG4zTULmnKrmuoDjgafjgYrpoZjjgYTjgZfjgb7jgZnjgIIiDQogICAgICAgICAgdGhpcy5mb3JtTW9kYWw9dHJ1ZTsNCiAgICAgICAgLy8g5q2j44GX44GE55S75YOP44GM5re75LuY44GV44KM44Gm44GE44KL5aC05ZCIDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuZXllQ2F0Y2hCdG5QdXNoPXRydWUNCiAgICAgICAgICB0aGlzLmV5ZUNhdGNoQnRuPSLpgIHkv6HkuK3igKYiDQogICAgICAgICAgZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZihgZXllQ2F0Y2gvJHtmaWxlLm5hbWV9YCkucHV0KGZpbGUpDQogICAgICAgICAgLnRoZW4oKHNuYXBzaG90KT0+ew0KICAgICAgICAgICAgY29uc29sZS5sb2coc25hcHNob3QpDQogICAgICAgICAgICBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKHNuYXBzaG90Lm1ldGFkYXRhLmZ1bGxQYXRoKS5nZXREb3dubG9hZFVSTCgpDQogICAgICAgICAgICAudGhlbigodXJsKT0+ew0KICAgICAgICAgICAgICB0aGlzLmZpbGVQYXRoID0gdXJsDQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZmlsZVBhdGgpDQogICAgICAgICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdleWVDYXRjaCcpLnB1c2goew0KICAgICAgICAgICAgICAgIGltZzogdHJ1ZSwNCiAgICAgICAgICAgICAgICBzcmM6dGhpcy5maWxlUGF0aCwNCiAgICAgICAgICAgICAgICBtYXNrOiAiYmxhY2stbGlnaHQiLA0KICAgICAgICAgICAgICAgIGFsdDogIiIsDQogICAgICAgICAgICAgIH0pLnRoZW4oKCk9PnsNCiAgICAgICAgICAgICAgICB0aGlzLmlucHV0SW1nPSIiOw0KICAgICAgICAgICAgICAgIHRoaXMudXBsb2FkZWRJbWFnZT0iIjsNCiAgICAgICAgICAgICAgICB0aGlzLmV5ZUNhdGNoQnRuPSLpgIHkv6EiOw0KICAgICAgICAgICAgICAgIHRoaXMuZXllQ2F0Y2hCdG5QdXNoPWZhbHNlOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJob21lLWlucHV0ZmlsZSIpLnZhbHVlID0gJyc7DQogICAgICAgICAgICAgICAgdGhpcy5mb3JtTW9kYWxNZXNzYWdlPSLnlLvlg4/pgIHkv6HlrozkuobjgZfjgb7jgZfjgZ/jgIIiDQogICAgICAgICAgICAgICAgdGhpcy5mb3JtTW9kYWw9dHJ1ZTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSkNCg0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICANCiAgDQogICAgICB9LA0KICAgICAgLy8g44K/44OW44KS44Kv44Oq44OD44Kv44GX44Gf44Go44GN44Gu6Zai5pWwDQogICAgICBzZWxlY3RUYWIodGFiKXsNCiAgICAgICAgdGhpcy5hY3RpdmVUYWI9dGFiOw0KICAgICAgfSwNCiAgICAgIC8vIOabtOaWsOWxpeattOOCkuOBleOCieOBqzTku7blkbzjgbPlh7rjgZkNCiAgICAgIG1vcmVWaWV3KCl7DQogICAgICAgIHRoaXMuJGVtaXQoJ21vcmVWaWV3Jyk7DQogICAgICB9LA0KICAgICAgLy8g5pu05paw5bGl5q2044KS5YmK6Zmk44GZ44KL6Zai5pWwDQogICAgICByZW1vdmVOZXdzZGF0YSgpew0KICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZihgbmV3cy8ke3RoaXMucmVtb3ZlTW9kYWx9YCkucmVtb3ZlKCkNCiAgICAgICAgdGhpcy5uZXdzTW9kYWw9ZmFsc2UNCiAgICAgIH0sDQogICAgICAvLyDnlLvlg4/jgpLliYrpmaTjgZnjgovplqLmlbANCiAgICAgIHJlbW92ZUNhcm91c2VsZGF0YSgpew0KICAgICAgICBjb25zb2xlLmxvZygn5YmK6Zmk44Oc44K/44Oz44GK44GV44KM44Gf44GCJykNCiAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoYGV5ZUNhdGNoLyR7dGhpcy5yZW1vdmVDYXJvdXNlbE1vZGFsfWApLnJlbW92ZSgpDQogICAgICAgIHRoaXMuY2Fyb3VzZWxNb2RhbD1mYWxzZQ0KICAgICAgfSwNCiAgICAgIC8vIOODleOCoeOCpOODq+OBjOa3u+S7mOOBleOCjOOBn+aZguOBq+eZuuWLleOBmeOCi+mWouaVsA0KICAgICAgb25GaWxlQ2hhbmdlKGUpIHsNCiAgICAgICAgY29uc29sZS5sb2coJ2ltZ1VwbG9hZCcpDQogICAgICAgIGxldCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzOw0KDQogICAgICAgIGlmKGZpbGVzWzBdKXsNCiAgICAgICAgICAgICAgICB0aGlzLmlucHV0SW1nID0gZmlsZXMNCiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUltYWdlKGZpbGVzWzBdKTsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIC8vIOOCouODg+ODl+ODreODvOODieOBl+OBn+eUu+WDj+OCkuihqOekug0KICAgICAgY3JlYXRlSW1hZ2UoZmlsZSkgew0KICAgICAgICAgIGNvbnNvbGUubG9nKCdpbWdDcmVhdGVkJykNCiAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsNCiAgICAgICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHsNCiAgICAgICAgICB0aGlzLnVwbG9hZGVkSW1hZ2UgPSBlLnRhcmdldC5yZXN1bHQ7DQogICAgICAgICAgfTsNCiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsNCiAgICAgIH0sDQogICAgICAvLyDjgqjjg4fjgqPjgr/lhoXjgafnlLvlg4/jgpLmt7vku5jjgZfjgZ/jgajjgY3jgavnmbrngavjgZnjgovplqLmlbANCiAgICAgIGhhbmRsZUltYWdlQWRkZWQ6IGZ1bmN0aW9uKGZpbGUsIEVkaXRvciwgY3Vyc29yTG9jYXRpb24sIHJlc2V0VXBsb2FkZXIpIHsNCg0KICAgICAgICBjb25zb2xlLmxvZygn55S75YOP5re75LuYJykNCg0KICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJpbWFnZSIsIGZpbGUpOw0KDQogICAgICAgIGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoZmlsZS5uYW1lKS5wdXQoZmlsZSkNCiAgICAgICAgLnRoZW4oKHNuYXBzaG90KT0+ew0KICAgICAgICAgICAgY29uc29sZS5sb2coc25hcHNob3QpDQogICAgICAgICAgICBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKGZpbGUubmFtZSkuZ2V0RG93bmxvYWRVUkwoKQ0KICAgICAgICAgICAgLnRoZW4oKHVybCk9PnsNCiAgICAgICAgICAgICAgICBFZGl0b3IuaW5zZXJ0RW1iZWQoY3Vyc29yTG9jYXRpb24sICdpbWFnZScsIHVybCkNCiAgICAgICAgICAgICAgICByZXNldFVwbG9hZGVyKCkNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpDQogICAgICAgIH0pDQogICAgfQ0KICAgIH0sDQoNCiAgfQ0K"},{"version":3,"sources":["EditHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"EditHome.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <h2>Home Settings<span>ホームの編集</span></h2>\r\n\r\n    <!-- 画像か本文か更新履歴かを選ぶタブ -->\r\n    <mdb-navbar color=\"white\" class=\"z-depth-0 lighten-4 py-4\">\r\n      <mdb-navbar-nav nav center class=\"\" >\r\n        <mdb-nav-item class=\"m-1 p-1\" href=\"#\" @click.stop=\"selectTab('eyeCatch')\" :class=\"{'shadow-sm rounded elegant-color active-font':activeTab==='eyeCatch'}\">画像</mdb-nav-item>\r\n        <mdb-nav-item class=\"m-1 p-1\" href=\"#\" @click.stop=\"selectTab('main')\" :class=\"{'shadow-sm rounded elegant-color active-font ':activeTab==='main'}\">本文</mdb-nav-item>\r\n        <mdb-nav-item class=\"m-1 p-1\" href=\"#\" @click.stop=\"selectTab('news')\" :class=\"{'shadow-sm rounded elegant-color active-font ':activeTab==='news'}\">新着記事</mdb-nav-item>\r\n      </mdb-navbar-nav>\r\n    </mdb-navbar>\r\n      \r\n      \r\n    <!-- 画像編集 -->\r\n      <mdb-container v-if=\"activeTab==='eyeCatch'\">\r\n      <mdb-row>\r\n        <mdb-col col=\"sm\">\r\n          <div class=\"my-3\">\r\n            <h3>新規作成</h3>\r\n          </div>\r\n          <!-- 画像新規作成フォーム -->\r\n          <div class=\"p-2 border border-light\">\r\n\r\n            <div class=\"input-group\">\r\n              <div class=\"input-group-prepend\">\r\n                <span class=\"input-group-text\" id=\"inputGroupFileAddon01\">Upload</span>\r\n              </div>\r\n              <div class=\"custom-file\">\r\n                <input type=\"file\" accept=\"image/*\" @change=\"onFileChange\" class=\"custom-file-input\" id=\"home-inputfile\" aria-describedby=\"inputGroupFileAddon01\">\r\n                <label class=\"custom-file-label\" for=\"inputGroupFile01\">ファイル選択</label>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- ここに添付した画像が表示される -->\r\n            <div class=\"position-relative\" v-if=\"uploadedImage\">\r\n              <img :src=\"uploadedImage\" style=\"width:100%;\"  />\r\n              <mdb-btn  class=\"z-depth-2 position-absolute remove-carousel\" @click=\"removeUploadedImg()\" color=\"danger\">削除</mdb-btn>\r\n              \r\n            </div>\r\n\r\n\r\n            <div class=\"d-flex flex-row-reverse\">\r\n                <mdb-btn :disable=\"eyeCatchBtnPush\" class=\"z-depth-0 mr-4\" @click=\"updateEyeCatchData\" color=\"success\">{{ eyeCatchBtn }}</mdb-btn>\r\n                \r\n            </div>\r\n\r\n          </div>\r\n        </mdb-col>\r\n        <mdb-col col=\"sm\">\r\n          <div class=\"my-3\">\r\n            <h3>画像一覧</h3>\r\n          </div>\r\n\r\n          <!-- 画像の一覧 -->\r\n\r\n          <mdb-list-group>\r\n            <mdb-list-group-item class=\"position-relative\" v-for=\"(data,index) in eyeCatchData\" :key=\"index\">\r\n                  <img :src=\"data.src\" style=\"width:100%;\" /><br>\r\n                  <mdb-btn  class=\"z-depth-2 position-absolute remove-carousel\" @click=\"removeCarouselModal=index, carouselModal=true\" color=\"danger\">削除</mdb-btn></mdb-list-group-item>\r\n          </mdb-list-group>\r\n        </mdb-col>\r\n\r\n      </mdb-row>\r\n    </mdb-container>\r\n    <!-- <div v-if=\"activeTab==='eyeCatch'\">\r\n      \r\n      \r\n\r\n\r\n\r\n\r\n\r\n      \r\n\r\n      \r\n    </div> -->\r\n\r\n    <!-- 本文の編集 -->\r\n    <div v-if=\"activeTab==='main'\">\r\n      <div class=\"my-3\">\r\n        <h3>本文の編集</h3>\r\n      </div>\r\n\r\n      <!-- エディタ -->\r\n      <vue-editor id=\"editor\" useCustomImageHandler @image-added=\"handleImageAdded\" v-model=\"homeEditor\"> </vue-editor>\r\n\r\n      <div class=\"d-flex flex-row-reverse\">\r\n          <mdb-btn class=\"z-depth-0 mr-4\" @click=\"createHome\" color=\"success\">作成！</mdb-btn>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n      <mdb-container v-if=\"activeTab==='news'\">\r\n        <mdb-row>\r\n          <mdb-col col=\"sm\">\r\n            <div class=\"my-3\">\r\n              <h3>新規作成</h3>\r\n            </div>\r\n\r\n            <!-- 更新履歴のフォーム -->\r\n            <div class=\"mb-2 p-2 border border-light\">\r\n              <div class=\"form-group\">\r\n                <label for=\"news-category\">カテゴリ</label>\r\n                <select id=\"news-category\" v-model='homeCategory' class=\"browser-default custom-select mb-2\">\r\n                  <option value=\"study\">研究内容</option>\r\n                  <option value=\"achievement\">研究業績</option>\r\n                  <option value=\"member\">メンバー</option>\r\n                  <option value=\"acsess\">アクセス</option>\r\n                </select>\r\n                <label for=\"news-title\">タイトル <span class=\"ml-1 red-text\">※必須</span></label>\r\n                <input type=\"text\" id=\"news-title\" class=\"form-control mb-1\" v-model=\"homeTitle\">\r\n                <label for=\"news-date\">日付 <span class=\"ml-1 red-text\">※必須</span></label>\r\n                <Datepicker class=\"mb-1\" id=\"news-date\" name=\"home-date\" @closed=\"pickerClosed()\" v-model=\"homeDate\" :bootstrap-styling=\"true\" placeholder=\"日付を入力してください\" :language=\"ja\" :format=\"customFormatter(homeDate)\"></Datepicker>\r\n\r\n                <label for=\"news-content\">内容 <span class=\"ml-1 red-text\">※必須</span></label>\r\n                <textarea type=\"text\" id=\"news-content\" class=\"form-control\" v-model=\"homeContent\"></textarea>\r\n              </div>\r\n\r\n\r\n              <div class=\"d-flex flex-row-reverse\">\r\n                  <mdb-btn :disable=\"newsBtnPush\" class=\"z-depth-0 mr-4\" @click=\"createNews()\" color=\"success\">{{newsBtn}}</mdb-btn>\r\n              </div>\r\n\r\n            </div>\r\n          </mdb-col>\r\n          <mdb-col col=\"sm\">\r\n            <!-- 更新履歴の一覧 -->\r\n            <div class=\"my-3\">\r\n              <h3>更新履歴一覧</h3>\r\n            </div>\r\n            <!-- <mdb-list-group>\r\n              <mdb-list-group-item v-for=\"(data,index) in reverseItems\" :key=\"index\">\r\n                <div>\r\n                  <span>{{data.homeDate}}</span><span class=\"ml-1\">{{data.content}}</span>\r\n                </div>\r\n                <mdb-btn class=\"z-depth-0\" @click=\"removeModal=index, newsModal=true\" outline=\"danger\">削除</mdb-btn></mdb-list-group-item>\r\n            </mdb-list-group> -->\r\n            <mdb-card class=\"shadow-none border w-100 border-light\" v-for=\"(data,index) in reverseItems\" :key=\"index\" style=\"width: 18rem;\">\r\n              <mdb-card-body>\r\n               \r\n                <mdb-card-title>\r\n                   <span>\r\n                    <mdb-icon v-if=\"data.category==='achievement'\" icon=\"book\" />\r\n                    <mdb-icon v-if=\"data.category==='member'\" icon=\"users\" />\r\n                    <mdb-icon v-if=\"data.category==='study'\" icon=\"pen\" />\r\n                    <mdb-icon v-if=\"data.category==='acsess'\" icon=\"map-marked-alt\" />\r\n                  </span>\r\n                  {{data.homeTitle}}\r\n                </mdb-card-title>\r\n                <mdb-card-title tag=\"h6\" sub class=\"mb-2 text-muted\"> <mdb-icon class=\"mr-1\" icon=\"calendar-alt\" />{{data.homeDate}}</mdb-card-title>\r\n                <mdb-card-text>\r\n                  <p style=\"white-space: pre-wrap;\">{{ data.content }}</p>\r\n                </mdb-card-text>\r\n                <div class=\"d-flex flex-row-reverse\">\r\n                    <mdb-btn class=\"z-depth-0\" @click=\"removeModal=index, newsModal=true\" outline=\"danger\">削除</mdb-btn>\r\n                </div>\r\n                \r\n              </mdb-card-body>\r\n\r\n\r\n            </mdb-card>\r\n          </mdb-col>\r\n\r\n        </mdb-row>\r\n      </mdb-container>\r\n\r\n\r\n\r\n    <!-- news削除時の確認モーダル -->\r\n    <div>\r\n        <mdb-modal :show=\"newsModal\" @close=\"newsModal = false\">\r\n        <mdb-modal-header>\r\n            <mdb-modal-title>警告</mdb-modal-title>\r\n        </mdb-modal-header>\r\n        <mdb-modal-body>本当に削除しますか？</mdb-modal-body>\r\n        <mdb-modal-footer>\r\n            <mdb-btn class=\"z-depth-0\" color=\"secondary\" @click.native=\"newsModal = false\">削除しない</mdb-btn>\r\n            <mdb-btn class=\"z-depth-0\" color=\"danger\" @click=\"removeNewsdata()\">削除</mdb-btn>\r\n        </mdb-modal-footer>\r\n        </mdb-modal>\r\n    </div>\r\n    <!-- カルーセル画像削除時の確認モーダル -->\r\n    <div>\r\n        <mdb-modal :show=\"carouselModal\" @close=\"carouselModal = false\">\r\n        <mdb-modal-header>\r\n            <mdb-modal-title>警告</mdb-modal-title>\r\n        </mdb-modal-header>\r\n        <mdb-modal-body>本当に削除しますか？</mdb-modal-body>\r\n        <mdb-modal-footer>\r\n            <mdb-btn class=\"z-depth-0\" color=\"secondary\" @click.native=\"carouselModal = false\">削除しない</mdb-btn>\r\n            <mdb-btn class=\"z-depth-0\" color=\"danger\" @click=\"removeCarouseldata()\">削除</mdb-btn>\r\n        </mdb-modal-footer>\r\n        </mdb-modal>\r\n    </div>\r\n\r\n    <!-- お知らせモーダル -->\r\n    <div>\r\n        <mdb-modal :show=\"formModal\" @close=\"formModal = false\">\r\n        <mdb-modal-header>\r\n            <mdb-modal-title>メッセージ</mdb-modal-title>\r\n        </mdb-modal-header>\r\n        <mdb-modal-body>{{formModalMessage}}</mdb-modal-body>\r\n        <mdb-modal-footer>\r\n            <mdb-btn class=\"z-depth-0\" color=\"success\" @click.native=\"formModal = false\">OK</mdb-btn>\r\n        </mdb-modal-footer>\r\n        </mdb-modal>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from 'firebase';\r\n  import {VueEditor} from \"vue2-editor\";\r\nimport {mdbBtn, \r\n        mdbListGroup,\r\n        mdbListGroupItem, \r\n        mdbModal, \r\n        mdbModalHeader, \r\n        mdbModalTitle, \r\n        mdbModalBody, \r\n        mdbModalFooter,\r\n        mdbNavbar,\r\n        mdbNavbarNav,\r\n        mdbNavItem, \r\n        mdbContainer,\r\n        mdbRow,\r\n        mdbCol,\r\n        mdbCard,\r\n        mdbCardBody,\r\n        mdbCardTitle,\r\n        mdbCardText,\r\n        mdbIcon\r\n      } from 'mdbvue';\r\n\r\n  import moment from 'moment';\r\n  import Datepicker from 'vuejs-datepicker';\r\n  import {ja} from 'vuejs-datepicker/dist/locale'\r\n\r\n  export default{\r\n    name: 'editHome',\r\n    components: { VueEditor,\r\n      mdbBtn, \r\n      mdbListGroupItem,\r\n      mdbListGroup,\r\n      mdbModal, \r\n      mdbModalHeader, \r\n      mdbModalTitle, \r\n      mdbModalBody, \r\n      mdbModalFooter, \r\n      mdbNavbar,\r\n      mdbNavbarNav,\r\n      mdbNavItem,\r\n      mdbContainer,\r\n      mdbRow,\r\n      mdbCol,\r\n      Datepicker,\r\n      mdbCard,\r\n      mdbCardBody,\r\n      mdbCardTitle,\r\n      mdbCardText,\r\n      mdbIcon\r\n    },\r\n    data(){\r\n      return{\r\n        ja:ja,\r\n        homeCategory:'study', // ニュースのカテゴリを選ぶ\r\n        homeContent:'', // ニュースの内容を選ぶ\r\n        homeDate:'',\r\n        homeTitle:'', //ニュースのタイトル\r\n        homeEditor:'', // 本文のエディタがここに反映\r\n        uploadedImage:'', // アップロードした画像で表示する画像のデータ\r\n        inputImg:\"\", // アップロードした画像の情報\r\n        filePath:\"\", // アップロードした画像の情報\r\n        removeModal:\"\", // 更新履歴の削除ボタンを押したとき、ここに削除するデータのidが記録\r\n        removeCarouselModal:\"\", // 画像の削除ボタンを押したとき、ここに削除するデータのidが記録\r\n        newsModal:false, // 画像削除モーダルのオンオフ\r\n        carouselModal:false, // ニュース削除モーダルのオンオフ\r\n        formModal:false, // メッセージモーダルのオンオフ\r\n        formModalMessage:\"\", // メッセージモーダルの内容\r\n        newsBtn:\"送信\", // メッセージモーダルの内容\r\n        newsBtnPush:false, // 更新履歴ボタンを押したか否か\r\n        eyeCatchBtn:\"送信\",\r\n        eyeCatchBtnPush:false, // 画像更新ボタンを押したか否か\r\n        activeTab:\"eyeCatch\" // どのタブが有効か？\r\n      }\r\n    },\r\n    // app.vue からデータを受け取る\r\n    props:{\r\n      newsData:Object,\r\n      homeData:String,\r\n      eyeCatchData:Object,\r\n    },\r\n    // firebase から受け取ったデータはcreated_atの順番が古いものが頭になるので逆にする\r\n    computed:{\r\n      reverseItems() {\r\n        const datas = this.newsData;\r\n        const sorted = {};\r\n        var array = [];\r\n        for (let key in datas) {\r\n        //指定された名前のプロパティがオブジェクトにあるかどうかチェック\r\n          if (datas.hasOwnProperty(key)) {\r\n            //if条件がtrueならば，配列の最後にキーを追加する\r\n            array.push(key);\r\n        }}\r\n        array.reverse();\r\n        for (var i = 0; i < array.length; i++) {\r\n            /*戻り値用のオブジェクトに\r\n            新オブジェクト[配列内のキー] ＝ 引数のオブジェクト[配列内のキー]を入れる．\r\n            配列はソート済みなので，ソートされたオブジェクトが出来上がる*/\r\n            sorted[array[i]] = datas[array[i]];\r\n        }\r\n        //戻り値にソート済みのオブジェクトを指定\r\n        return sorted;\r\n\r\n      }\r\n    },\r\n    // ページを開いたときに、本文のデータをエディタに反映\r\n    created(){\r\n      this.homeEditor = this.homeData;\r\n    },\r\n    // 変更したときに、本文のデータをエディタに反映\r\n    watch:{\r\n      homeData:function () {\r\n        console.log('someObj changed')\r\n        this.homeEditor = this.homeData;\r\n      }\r\n    },\r\n    methods:{\r\n      // 更新履歴作成関数\r\n      createNews(){\r\n        const homeCategory = this.homeCategory;\r\n        const homeContent = this.homeContent;\r\n        const homeDate = this.homeDate;\r\n        const homeTitle =this.homeTitle;\r\n        const createdAt=firebase.database.ServerValue.TIMESTAMP\r\n\r\n        console.log(homeDate)\r\n\r\n        // 更新履歴の内容が0以上16字未満だった場合\r\n        if(homeContent.length<100 && homeContent.length>1 && homeDate && homeTitle.length<15 && homeTitle.length>0){\r\n\r\n          // ボタンの見た目を変更\r\n          this.newsBtnPush=true\r\n          this.newsBtn = \"送信中…\"\r\n\r\n          // 内容をfirebaseに更新\r\n          firebase.database().ref('news').push({\r\n            content:homeContent,\r\n            category:homeCategory,\r\n            homeDate:homeDate,\r\n            homeTitle:homeTitle,\r\n            created_at:createdAt,\r\n          }).then(()=>{\r\n\r\n            // 出来たらボタンを元に戻してフォームを空にし、完了を知らせる\r\n            this.newsBtn = \"送信\"\r\n            this.newsBtnPush=false;\r\n            this.homeContent = \"\"\r\n            this.homeCategory = \"study\"\r\n            this.formModalMessage=\"更新履歴を送信しました。\"\r\n            this.formModal=true;\r\n\r\n          })\r\n        // それ以外だった場合\r\n        }else{\r\n          // 警告モーダルを出す\r\n          this.formModalMessage=\"更新履歴の内容は1～100文字でお願いします。\\nタイトルを1～15文字でお願いします。\\n日付を入力してください。\"\r\n          this.formModal=true;\r\n        }\r\n        \r\n      },\r\n      pickerClosed() {\r\n        if(this.homeDate){\r\n          console.log('aa')\r\n          this.homeDate = moment(this.homeDate).format('YYYY/MM/DD');\r\n        }\r\n      },\r\n      customFormatter(date) {\r\n        return moment(date).format('YYYY/MM/DD');\r\n      },\r\n      // 本文をアップロードする関数\r\n      createHome(){\r\n        firebase.database().ref('home').set(this.homeEditor)\r\n      },\r\n      removeUploadedImg(){\r\n        this.uploadedImage=\"\";\r\n        this.inputImg=\"\";\r\n        document.getElementById(\"home-inputfile\").value = '';\r\n\r\n      },\r\n      // 画像をアップロードする関数\r\n      updateEyeCatchData(){\r\n        const files = this.inputImg;\r\n        const file = files[0]\r\n\r\n\r\n        // 添付されていない場合\r\n        if(!file){\r\n          this.formModalMessage=\"画像を添付してください。\"\r\n          this.formModal=true;\r\n        // 画像以外が添付されている場合\r\n        }else if(file.type != 'image/jpeg' && file.type != 'image/gif' && file.type != 'image/png' && file.type != 'application/pdf'){\r\n          this.formModalMessage=\"画像ファイル以外を添付しています。\\njpg、.gif、.png、.pdfを添付してください。\"\r\n          this.formModal=true;\r\n        // 大きすぎる画像が添付されている場合\r\n        }else if(file.size > 3000000){\r\n          this.formModalMessage=\"画像ファイルファイルが大きすぎます。\\n3MB未満でお願いします。\"\r\n          this.formModal=true;\r\n        // 正しい画像が添付されている場合\r\n        }else{\r\n          this.eyeCatchBtnPush=true\r\n          this.eyeCatchBtn=\"送信中…\"\r\n          firebase.storage().ref(`eyeCatch/${file.name}`).put(file)\r\n          .then((snapshot)=>{\r\n            console.log(snapshot)\r\n            firebase.storage().ref(snapshot.metadata.fullPath).getDownloadURL()\r\n            .then((url)=>{\r\n              this.filePath = url\r\n              console.log(this.filePath)\r\n              firebase.database().ref('eyeCatch').push({\r\n                img: true,\r\n                src:this.filePath,\r\n                mask: \"black-light\",\r\n                alt: \"\",\r\n              }).then(()=>{\r\n                this.inputImg=\"\";\r\n                this.uploadedImage=\"\";\r\n                this.eyeCatchBtn=\"送信\";\r\n                this.eyeCatchBtnPush=false;\r\n                document.getElementById(\"home-inputfile\").value = '';\r\n                this.formModalMessage=\"画像送信完了しました。\"\r\n                this.formModal=true;\r\n                \r\n              })\r\n            })\r\n          })\r\n\r\n        }\r\n        \r\n        \r\n  \r\n      },\r\n      // タブをクリックしたときの関数\r\n      selectTab(tab){\r\n        this.activeTab=tab;\r\n      },\r\n      // 更新履歴をさらに4件呼び出す\r\n      moreView(){\r\n        this.$emit('moreView');\r\n      },\r\n      // 更新履歴を削除する関数\r\n      removeNewsdata(){\r\n        firebase.database().ref(`news/${this.removeModal}`).remove()\r\n        this.newsModal=false\r\n      },\r\n      // 画像を削除する関数\r\n      removeCarouseldata(){\r\n        console.log('削除ボタンおされたあ')\r\n        firebase.database().ref(`eyeCatch/${this.removeCarouselModal}`).remove()\r\n        this.carouselModal=false\r\n      },\r\n      // ファイルが添付された時に発動する関数\r\n      onFileChange(e) {\r\n        console.log('imgUpload')\r\n        let files = e.target.files || e.dataTransfer.files;\r\n\r\n        if(files[0]){\r\n                this.inputImg = files\r\n                this.createImage(files[0]);\r\n        }\r\n      },\r\n      // アップロードした画像を表示\r\n      createImage(file) {\r\n          console.log('imgCreated')\r\n          let reader = new FileReader();\r\n          reader.onload = (e) => {\r\n          this.uploadedImage = e.target.result;\r\n          };\r\n          reader.readAsDataURL(file);\r\n      },\r\n      // エディタ内で画像を添付したときに発火する関数\r\n      handleImageAdded: function(file, Editor, cursorLocation, resetUploader) {\r\n\r\n        console.log('画像添付')\r\n\r\n        var formData = new FormData();\r\n        formData.append(\"image\", file);\r\n\r\n        firebase.storage().ref(file.name).put(file)\r\n        .then((snapshot)=>{\r\n            console.log(snapshot)\r\n            firebase.storage().ref(file.name).getDownloadURL()\r\n            .then((url)=>{\r\n                Editor.insertEmbed(cursorLocation, 'image', url)\r\n                resetUploader()\r\n            })\r\n        })\r\n        .catch((err) => {\r\n          // eslint-disable-next-line no-console\r\n          console.log(err)\r\n        })\r\n    }\r\n    },\r\n\r\n  }\r\n</script>\r\n\r\n<style>\r\n.remove-carousel{\r\n  bottom:2rem;\r\n  right:2rem\r\n}\r\n\r\n.active-font .nav-link {\r\n  color:white;\r\n} \r\n</style>"]}]}