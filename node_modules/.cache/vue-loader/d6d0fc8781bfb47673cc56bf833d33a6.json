{"remainingRequest":"/usr/src/app/meneki-web2/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/src/app/meneki-web2/src/views/EditAchievement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/src/app/meneki-web2/src/views/EditAchievement.vue","mtime":1600936426417},{"path":"/usr/src/app/meneki-web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/src/app/meneki-web2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/src/app/meneki-web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/src/app/meneki-web2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOw0KaW1wb3J0IHsgbWRiQnRuLG1kYk1vZGFsLCBtZGJNb2RhbEhlYWRlciwgbWRiTW9kYWxUaXRsZSwgbWRiTW9kYWxCb2R5LCBtZGJNb2RhbEZvb3RlcixtZGJMaXN0R3JvdXAsIG1kYkxpc3RHcm91cEl0ZW0sIG1kYkNvbnRhaW5lciwNCiAgICAgIG1kYlJvdywNCiAgICAgIG1kYkNvbCB9IGZyb20gJ21kYnZ1ZSc7DQoNCiAgZXhwb3J0IGRlZmF1bHR7DQogICAgbmFtZTogJ2VkaXRhY2hpZXZlbWVudCcsDQogICAgY3JlYXRlZCgpew0KDQogICAgfSwNCiAgICBwcm9wczp7DQogICAgICAgIGRhdGVzOk9iamVjdCwNCiAgICB9LA0KICAgIGNvbXBvbmVudHM6IHsNCiAgICAgIG1kYkJ0biwgbWRiTW9kYWwsIG1kYk1vZGFsSGVhZGVyLCBtZGJNb2RhbFRpdGxlLCBtZGJNb2RhbEJvZHksIG1kYk1vZGFsRm9vdGVyLG1kYkxpc3RHcm91cCwgbWRiTGlzdEdyb3VwSXRlbSwgbWRiQ29udGFpbmVyLA0KICAgICAgbWRiUm93LA0KICAgICAgbWRiQ29sDQogICAgfSwNCiAgICBkYXRhKCl7DQogICAgICAgIHJldHVybnsNCiAgICAgICAgICAgIGNvbnRlbnQ6JycsDQogICAgICAgICAgICBuZXdEYXRlOicnLA0KICAgICAgICAgICAgbW9kYWw6ZmFsc2UsDQogICAgICAgICAgICByZW1vdmVNb2RhbDonJywNCiAgICAgICAgICAgIGZvcm1Nb2RhbDpmYWxzZSwNCiAgICAgICAgICAgIGZvcm1Nb2RhbE1lc3NhZ2U6IiIsDQogICAgICAgICAgICBhY2hpZXZlbWVudEJ0bjoi6YCB5L+hIiwNCiAgICAgICAgICAgIGFjaGlldmVtZW50QnRuUHVzaDpmYWxzZSwNCg0KDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgICBjcmVhdGVOZXdkYXRlKCl7DQogICAgICAgICAgICBpZih0aGlzLm5ld0RhdGUubGVuZ3RoPjApew0KICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RhdGUgPSB0aGlzLm5ld0RhdGUNCiAgICAgICAgICAgICAgICB0aGlzLmFjaGlldmVtZW50QnRuPSLpgIHkv6HkuK3igKYiDQogICAgICAgICAgICAgICAgdGhpcy5hY2hpZXZlbWVudEJ0blB1c2g9dHJ1ZTsNCiAgICAgICAgICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZihgYWNoaWV2ZW1lbnRzLyR7bmV3RGF0ZX1gKS5zZXQoJycpLnRoZW4oKCk9PnsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2hpZXZlbWVudEJ0bj0i6YCB5L+hIg0KICAgICAgICAgICAgICAgICAgICB0aGlzLmFjaGlldmVtZW50QnRuUHVzaD1mYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtTW9kYWxNZXNzYWdlPSLpgIHkv6HlrozkuobjgZfjgb7jgZfjgZ/jgIIiDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybU1vZGFsPXRydWU7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubmV3RGF0ZT0iIjsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5mb3JtTW9kYWxNZXNzYWdlPSLmmYLmnJ/jga/lv4XpoIjpoIXnm67jgafjgZnjgIJcbuato+OBl+OBhOW9ouW8j+OBp+WFpeWKm+OBl+OBpuOBj+OBoOOBleOBhOOAgiINCiAgICAgICAgICAgICAgICB0aGlzLmZvcm1Nb2RhbD10cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgIH0sDQogICAgICAgIHJlbW92ZU5ld2RhdGUoKXsNCiAgICAgICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKGBhY2hpZXZlbWVudHMvJHt0aGlzLnJlbW92ZU1vZGFsfWApLnJlbW92ZSgpOw0KICAgICAgICAgICAgdGhpcy5tb2RhbD1mYWxzZQ0KICAgICAgICB9LA0KICAgIH0NCiAgfQ0K"},{"version":3,"sources":["EditAchievement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditAchievement.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <h2>Achievement Settings<span>研究成果、出版物の編集</span></h2>\r\n\r\n          <mdb-container class=\"mt-5\">\r\n            <mdb-row>\r\n                <mdb-col col=\"sm\">\r\n                    <h3 class=\"mb-2\">新規作成</h3>\r\n\r\n                    <!-- 日付 -->\r\n                    <div class=\"form-group\">\r\n                        <label for=\"name-form\">日付<span class=\"ml-1 red-text\">※必須</span></label>\r\n                        <input type=\"text\" id=\"name-form\" class=\"form-control\" v-model=\"newDate\">\r\n                    </div>\r\n\r\n                    <div class=\"d-flex flex-row-reverse\">\r\n                        <mdb-btn class=\"z-depth-0 mr-4\" :disabled=\"achievementBtnPush\" @click=\"createNewdate\" color=\"success\">{{ achievementBtn }}</mdb-btn>\r\n                    </div>\r\n                </mdb-col>\r\n                <mdb-col col=\"sm\">\r\n                    <h3 class=\"mb-2\">一覧</h3>\r\n\r\n                    <mdb-list-group>\r\n\r\n                        <mdb-list-group-item v-for=\"(date, index) in dates\" :key=\"index\">\r\n                            <router-link :to=\"{name:'editAchievementDetail',params:{id:index}}\">{{index}}年</router-link>\r\n                            <mdb-btn class=\"z-depth-0\" @click=\"removeModal=index, modal=true\" outline=\"danger\">削除</mdb-btn></mdb-list-group-item>\r\n                    </mdb-list-group>\r\n                </mdb-col>\r\n\r\n            </mdb-row>\r\n        </mdb-container>\r\n\r\n        \r\n        <!-- <ul>\r\n            <li v-for=\"(date, index) in dates\" :key=\"index\">\r\n                <router-link :to=\"{name:'editAchievementDetail',params:{id:index}}\">{{index}}</router-link>\r\n                <button @click=\"removeNewdate(index)\">削除</button></li>\r\n                \r\n        </ul><br> -->\r\n\r\n        \r\n\r\n        <div>\r\n            <mdb-modal :show=\"modal\" @close=\"modal = false\">\r\n            <mdb-modal-header>\r\n                <mdb-modal-title>警告</mdb-modal-title>\r\n            </mdb-modal-header>\r\n            <mdb-modal-body>本当に削除しますか？</mdb-modal-body>\r\n            <mdb-modal-footer>\r\n                <mdb-btn class=\"z-depth-0\" color=\"secondary\" @click.native=\"modal = false\">削除しない</mdb-btn>\r\n                <mdb-btn class=\"z-depth-0\" color=\"danger\" @click=\"removeNewdate()\">削除</mdb-btn>\r\n            </mdb-modal-footer>\r\n            </mdb-modal>\r\n        </div>\r\n\r\n        <!-- お知らせモーダル -->\r\n        <div>\r\n            <mdb-modal :show=\"formModal\" @close=\"formModal = false\">\r\n            <mdb-modal-header>\r\n                <mdb-modal-title>メッセージ</mdb-modal-title>\r\n            </mdb-modal-header>\r\n            <mdb-modal-body style=\"white-space:pre-wrap; word-wrap:break-word;\">{{formModalMessage}}</mdb-modal-body>\r\n            <mdb-modal-footer>\r\n                <mdb-btn class=\"z-depth-0\" color=\"success\" @click.native=\"formModal = false\">OK</mdb-btn>\r\n            </mdb-modal-footer>\r\n            </mdb-modal>\r\n        </div>\r\n\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from 'firebase';\r\nimport { mdbBtn,mdbModal, mdbModalHeader, mdbModalTitle, mdbModalBody, mdbModalFooter,mdbListGroup, mdbListGroupItem, mdbContainer,\r\n      mdbRow,\r\n      mdbCol } from 'mdbvue';\r\n\r\n  export default{\r\n    name: 'editachievement',\r\n    created(){\r\n\r\n    },\r\n    props:{\r\n        dates:Object,\r\n    },\r\n    components: {\r\n      mdbBtn, mdbModal, mdbModalHeader, mdbModalTitle, mdbModalBody, mdbModalFooter,mdbListGroup, mdbListGroupItem, mdbContainer,\r\n      mdbRow,\r\n      mdbCol\r\n    },\r\n    data(){\r\n        return{\r\n            content:'',\r\n            newDate:'',\r\n            modal:false,\r\n            removeModal:'',\r\n            formModal:false,\r\n            formModalMessage:\"\",\r\n            achievementBtn:\"送信\",\r\n            achievementBtnPush:false,\r\n\r\n\r\n        }\r\n    },\r\n    methods:{\r\n        createNewdate(){\r\n            if(this.newDate.length>0){\r\n                const newDate = this.newDate\r\n                this.achievementBtn=\"送信中…\"\r\n                this.achievementBtnPush=true;\r\n                firebase.database().ref(`achievements/${newDate}`).set('').then(()=>{\r\n                    this.achievementBtn=\"送信\"\r\n                    this.achievementBtnPush=false;\r\n                    this.formModalMessage=\"送信完了しました。\"\r\n                    this.formModal=true;\r\n                    this.newDate=\"\";\r\n                })\r\n            }else{\r\n                this.formModalMessage=\"時期は必須項目です。\\n正しい形式で入力してください。\"\r\n                this.formModal=true;\r\n            }\r\n            \r\n        },\r\n        removeNewdate(){\r\n            firebase.database().ref(`achievements/${this.removeModal}`).remove();\r\n            this.modal=false\r\n        },\r\n    }\r\n  }\r\n</script>"]}]}