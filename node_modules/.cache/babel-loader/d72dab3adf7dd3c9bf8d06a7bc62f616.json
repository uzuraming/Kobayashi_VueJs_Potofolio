{"remainingRequest":"/usr/src/app/meneki-web2/node_modules/babel-loader/lib/index.js!/usr/src/app/meneki-web2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/usr/src/app/meneki-web2/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/src/app/meneki-web2/src/views/EditAchievement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/src/app/meneki-web2/src/views/EditAchievement.vue","mtime":1600936426417},{"path":"/usr/src/app/meneki-web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/src/app/meneki-web2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/src/app/meneki-web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/src/app/meneki-web2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJzsKaW1wb3J0IHsgbWRiQnRuLCBtZGJNb2RhbCwgbWRiTW9kYWxIZWFkZXIsIG1kYk1vZGFsVGl0bGUsIG1kYk1vZGFsQm9keSwgbWRiTW9kYWxGb290ZXIsIG1kYkxpc3RHcm91cCwgbWRiTGlzdEdyb3VwSXRlbSwgbWRiQ29udGFpbmVyLCBtZGJSb3csIG1kYkNvbCB9IGZyb20gJ21kYnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZWRpdGFjaGlldmVtZW50JywKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgcHJvcHM6IHsKICAgIGRhdGVzOiBPYmplY3QKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIG1kYkJ0bjogbWRiQnRuLAogICAgbWRiTW9kYWw6IG1kYk1vZGFsLAogICAgbWRiTW9kYWxIZWFkZXI6IG1kYk1vZGFsSGVhZGVyLAogICAgbWRiTW9kYWxUaXRsZTogbWRiTW9kYWxUaXRsZSwKICAgIG1kYk1vZGFsQm9keTogbWRiTW9kYWxCb2R5LAogICAgbWRiTW9kYWxGb290ZXI6IG1kYk1vZGFsRm9vdGVyLAogICAgbWRiTGlzdEdyb3VwOiBtZGJMaXN0R3JvdXAsCiAgICBtZGJMaXN0R3JvdXBJdGVtOiBtZGJMaXN0R3JvdXBJdGVtLAogICAgbWRiQ29udGFpbmVyOiBtZGJDb250YWluZXIsCiAgICBtZGJSb3c6IG1kYlJvdywKICAgIG1kYkNvbDogbWRiQ29sCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udGVudDogJycsCiAgICAgIG5ld0RhdGU6ICcnLAogICAgICBtb2RhbDogZmFsc2UsCiAgICAgIHJlbW92ZU1vZGFsOiAnJywKICAgICAgZm9ybU1vZGFsOiBmYWxzZSwKICAgICAgZm9ybU1vZGFsTWVzc2FnZTogIiIsCiAgICAgIGFjaGlldmVtZW50QnRuOiAi6YCB5L+hIiwKICAgICAgYWNoaWV2ZW1lbnRCdG5QdXNoOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNyZWF0ZU5ld2RhdGU6IGZ1bmN0aW9uIGNyZWF0ZU5ld2RhdGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5uZXdEYXRlLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgbmV3RGF0ZSA9IHRoaXMubmV3RGF0ZTsKICAgICAgICB0aGlzLmFjaGlldmVtZW50QnRuID0gIumAgeS/oeS4reKApiI7CiAgICAgICAgdGhpcy5hY2hpZXZlbWVudEJ0blB1c2ggPSB0cnVlOwogICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCJhY2hpZXZlbWVudHMvIi5jb25jYXQobmV3RGF0ZSkpLnNldCgnJykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5hY2hpZXZlbWVudEJ0biA9ICLpgIHkv6EiOwogICAgICAgICAgX3RoaXMuYWNoaWV2ZW1lbnRCdG5QdXNoID0gZmFsc2U7CiAgICAgICAgICBfdGhpcy5mb3JtTW9kYWxNZXNzYWdlID0gIumAgeS/oeWujOS6huOBl+OBvuOBl+OBn+OAgiI7CiAgICAgICAgICBfdGhpcy5mb3JtTW9kYWwgPSB0cnVlOwogICAgICAgICAgX3RoaXMubmV3RGF0ZSA9ICIiOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZm9ybU1vZGFsTWVzc2FnZSA9ICLmmYLmnJ/jga/lv4XpoIjpoIXnm67jgafjgZnjgIJcbuato+OBl+OBhOW9ouW8j+OBp+WFpeWKm+OBl+OBpuOBj+OBoOOBleOBhOOAgiI7CiAgICAgICAgdGhpcy5mb3JtTW9kYWwgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlTmV3ZGF0ZTogZnVuY3Rpb24gcmVtb3ZlTmV3ZGF0ZSgpIHsKICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoImFjaGlldmVtZW50cy8iLmNvbmNhdCh0aGlzLnJlbW92ZU1vZGFsKSkucmVtb3ZlKCk7CiAgICAgIHRoaXMubW9kYWwgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["EditAchievement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA,OAAA,QAAA,MAAA,UAAA;AACA,SAAA,MAAA,EAAA,QAAA,EAAA,cAAA,EAAA,aAAA,EAAA,YAAA,EAAA,cAAA,EAAA,YAAA,EAAA,gBAAA,EAAA,YAAA,EACA,MADA,EAEA,MAFA,QAEA,QAFA;AAIA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,OAFA,qBAEA,CAEA,CAJA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GALA;AAQA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AACA,IAAA,QAAA,EAAA,QADA;AACA,IAAA,cAAA,EAAA,cADA;AACA,IAAA,aAAA,EAAA,aADA;AACA,IAAA,YAAA,EAAA,YADA;AACA,IAAA,cAAA,EAAA,cADA;AACA,IAAA,YAAA,EAAA,YADA;AACA,IAAA,gBAAA,EAAA,gBADA;AACA,IAAA,YAAA,EAAA,YADA;AAEA,IAAA,MAAA,EAAA,MAFA;AAGA,IAAA,MAAA,EAAA;AAHA,GARA;AAaA,EAAA,IAbA,kBAaA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,KAHA;AAIA,MAAA,WAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA,KALA;AAMA,MAAA,gBAAA,EAAA,EANA;AAOA,MAAA,cAAA,EAAA,IAPA;AAQA,MAAA,kBAAA,EAAA;AARA,KAAA;AAYA,GA1BA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,UAAA,KAAA,OAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,OAAA,GAAA,KAAA,OAAA;AACA,aAAA,cAAA,GAAA,MAAA;AACA,aAAA,kBAAA,GAAA,IAAA;AACA,QAAA,QAAA,CAAA,QAAA,GAAA,GAAA,wBAAA,OAAA,GAAA,GAAA,CAAA,EAAA,EAAA,IAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,cAAA,GAAA,IAAA;AACA,UAAA,KAAA,CAAA,kBAAA,GAAA,KAAA;AACA,UAAA,KAAA,CAAA,gBAAA,GAAA,WAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,EAAA;AACA,SANA;AAOA,OAXA,MAWA;AACA,aAAA,gBAAA,GAAA,6BAAA;AACA,aAAA,SAAA,GAAA,IAAA;AACA;AAEA,KAlBA;AAmBA,IAAA,aAnBA,2BAmBA;AACA,MAAA,QAAA,CAAA,QAAA,GAAA,GAAA,wBAAA,KAAA,WAAA,GAAA,MAAA;AACA,WAAA,KAAA,GAAA,KAAA;AACA;AAtBA;AA3BA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <h2>Achievement Settings<span>研究成果、出版物の編集</span></h2>\r\n\r\n          <mdb-container class=\"mt-5\">\r\n            <mdb-row>\r\n                <mdb-col col=\"sm\">\r\n                    <h3 class=\"mb-2\">新規作成</h3>\r\n\r\n                    <!-- 日付 -->\r\n                    <div class=\"form-group\">\r\n                        <label for=\"name-form\">日付<span class=\"ml-1 red-text\">※必須</span></label>\r\n                        <input type=\"text\" id=\"name-form\" class=\"form-control\" v-model=\"newDate\">\r\n                    </div>\r\n\r\n                    <div class=\"d-flex flex-row-reverse\">\r\n                        <mdb-btn class=\"z-depth-0 mr-4\" :disabled=\"achievementBtnPush\" @click=\"createNewdate\" color=\"success\">{{ achievementBtn }}</mdb-btn>\r\n                    </div>\r\n                </mdb-col>\r\n                <mdb-col col=\"sm\">\r\n                    <h3 class=\"mb-2\">一覧</h3>\r\n\r\n                    <mdb-list-group>\r\n\r\n                        <mdb-list-group-item v-for=\"(date, index) in dates\" :key=\"index\">\r\n                            <router-link :to=\"{name:'editAchievementDetail',params:{id:index}}\">{{index}}年</router-link>\r\n                            <mdb-btn class=\"z-depth-0\" @click=\"removeModal=index, modal=true\" outline=\"danger\">削除</mdb-btn></mdb-list-group-item>\r\n                    </mdb-list-group>\r\n                </mdb-col>\r\n\r\n            </mdb-row>\r\n        </mdb-container>\r\n\r\n        \r\n        <!-- <ul>\r\n            <li v-for=\"(date, index) in dates\" :key=\"index\">\r\n                <router-link :to=\"{name:'editAchievementDetail',params:{id:index}}\">{{index}}</router-link>\r\n                <button @click=\"removeNewdate(index)\">削除</button></li>\r\n                \r\n        </ul><br> -->\r\n\r\n        \r\n\r\n        <div>\r\n            <mdb-modal :show=\"modal\" @close=\"modal = false\">\r\n            <mdb-modal-header>\r\n                <mdb-modal-title>警告</mdb-modal-title>\r\n            </mdb-modal-header>\r\n            <mdb-modal-body>本当に削除しますか？</mdb-modal-body>\r\n            <mdb-modal-footer>\r\n                <mdb-btn class=\"z-depth-0\" color=\"secondary\" @click.native=\"modal = false\">削除しない</mdb-btn>\r\n                <mdb-btn class=\"z-depth-0\" color=\"danger\" @click=\"removeNewdate()\">削除</mdb-btn>\r\n            </mdb-modal-footer>\r\n            </mdb-modal>\r\n        </div>\r\n\r\n        <!-- お知らせモーダル -->\r\n        <div>\r\n            <mdb-modal :show=\"formModal\" @close=\"formModal = false\">\r\n            <mdb-modal-header>\r\n                <mdb-modal-title>メッセージ</mdb-modal-title>\r\n            </mdb-modal-header>\r\n            <mdb-modal-body style=\"white-space:pre-wrap; word-wrap:break-word;\">{{formModalMessage}}</mdb-modal-body>\r\n            <mdb-modal-footer>\r\n                <mdb-btn class=\"z-depth-0\" color=\"success\" @click.native=\"formModal = false\">OK</mdb-btn>\r\n            </mdb-modal-footer>\r\n            </mdb-modal>\r\n        </div>\r\n\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from 'firebase';\r\nimport { mdbBtn,mdbModal, mdbModalHeader, mdbModalTitle, mdbModalBody, mdbModalFooter,mdbListGroup, mdbListGroupItem, mdbContainer,\r\n      mdbRow,\r\n      mdbCol } from 'mdbvue';\r\n\r\n  export default{\r\n    name: 'editachievement',\r\n    created(){\r\n\r\n    },\r\n    props:{\r\n        dates:Object,\r\n    },\r\n    components: {\r\n      mdbBtn, mdbModal, mdbModalHeader, mdbModalTitle, mdbModalBody, mdbModalFooter,mdbListGroup, mdbListGroupItem, mdbContainer,\r\n      mdbRow,\r\n      mdbCol\r\n    },\r\n    data(){\r\n        return{\r\n            content:'',\r\n            newDate:'',\r\n            modal:false,\r\n            removeModal:'',\r\n            formModal:false,\r\n            formModalMessage:\"\",\r\n            achievementBtn:\"送信\",\r\n            achievementBtnPush:false,\r\n\r\n\r\n        }\r\n    },\r\n    methods:{\r\n        createNewdate(){\r\n            if(this.newDate.length>0){\r\n                const newDate = this.newDate\r\n                this.achievementBtn=\"送信中…\"\r\n                this.achievementBtnPush=true;\r\n                firebase.database().ref(`achievements/${newDate}`).set('').then(()=>{\r\n                    this.achievementBtn=\"送信\"\r\n                    this.achievementBtnPush=false;\r\n                    this.formModalMessage=\"送信完了しました。\"\r\n                    this.formModal=true;\r\n                    this.newDate=\"\";\r\n                })\r\n            }else{\r\n                this.formModalMessage=\"時期は必須項目です。\\n正しい形式で入力してください。\"\r\n                this.formModal=true;\r\n            }\r\n            \r\n        },\r\n        removeNewdate(){\r\n            firebase.database().ref(`achievements/${this.removeModal}`).remove();\r\n            this.modal=false\r\n        },\r\n    }\r\n  }\r\n</script>"],"sourceRoot":"src/views"}]}